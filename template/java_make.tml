CXX = javac
JAVA = java
JAR = jar
BIN = outp.jar
DIRS = .
SRC = $(wildcard $(addsuffix /*.java, $(DIRS)))
OBJ = $(wildcard $(addsuffix /*.class, $(DIRS)))
RM = rm -f

.PHONY: default compile exec jar clean

default:
	@make -j 2 compile

compile: $(patsubst %.java,%.class,$(SRC))

%.class: %.java
	$(CXX) $<

exec:
	$(JAVA) Main && read -p pause

jar:
	$(JAR) -vmcf MANIFEST.MF $(BIN) *.class

clean:
	$(RM) $(OBJ)
